<?php

namespace Database\Seeders\Measure;

use DB;
use Illuminate\Database\Seeder;

class PeriodSeeder extends Seeder
{

    /**
     * Auto generated seed file
     *
     * @return void
     */
    public function run()
    {
        DB::table('msr_periods')->insert(
            [
                [
                    'start_date' => '2021-01-01',
                    'end_date' => '2021-01-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-02-01',
                    'end_date' => '2021-02-28',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-03-01',
                    'end_date' => '2021-03-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-04-01',
                    'end_date' => '2021-04-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-05-01',
                    'end_date' => '2021-05-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-06-01',
                    'end_date' => '2021-06-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-07-01',
                    'end_date' => '2021-7-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-08-01',
                    'end_date' => '2021-08-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-09-01',
                    'end_date' => '2021-09-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-10-01',
                    'end_date' => '2021-10-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-11-01',
                    'end_date' => '2021-11-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-12-01',
                    'end_date' => '2021-12-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-01-01',
                    'end_date' => '2022-01-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-02-01',
                    'end_date' => '2022-02-28',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-03-01',
                    'end_date' => '2022-03-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-04-01',
                    'end_date' => '2022-04-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-05-01',
                    'end_date' => '2022-05-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-06-01',
                    'end_date' => '2022-06-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-07-01',
                    'end_date' => '2022-7-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-08-01',
                    'end_date' => '2022-08-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-09-01',
                    'end_date' => '2022-09-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-10-01',
                    'end_date' => '2022-10-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-11-01',
                    'end_date' => '2022-11-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2022-12-01',
                    'end_date' => '2022-12-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-01-01',
                    'end_date' => '2023-01-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-02-01',
                    'end_date' => '2023-02-28',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-03-01',
                    'end_date' => '2023-03-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-04-01',
                    'end_date' => '2023-04-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-05-01',
                    'end_date' => '2023-05-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-06-01',
                    'end_date' => '2023-06-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-07-01',
                    'end_date' => '2023-7-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-08-01',
                    'end_date' => '2023-08-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-09-01',
                    'end_date' => '2023-09-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-10-01',
                    'end_date' => '2023-10-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-11-01',
                    'end_date' => '2023-11-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2023-12-01',
                    'end_date' => '2023-12-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-01-01',
                    'end_date' => '2024-01-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-02-01',
                    'end_date' => '2024-02-29',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-03-01',
                    'end_date' => '2024-03-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-04-01',
                    'end_date' => '2024-04-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-05-01',
                    'end_date' => '2024-05-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-06-01',
                    'end_date' => '2024-06-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-07-01',
                    'end_date' => '2024-7-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-08-01',
                    'end_date' => '2024-08-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-09-01',
                    'end_date' => '2024-09-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-10-01',
                    'end_date' => '2024-10-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-11-01',
                    'end_date' => '2024-11-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2024-12-01',
                    'end_date' => '2024-12-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-01-01',
                    'end_date' => '2025-01-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-02-01',
                    'end_date' => '2025-02-28',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-03-01',
                    'end_date' => '2025-03-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-04-01',
                    'end_date' => '2025-04-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-05-01',
                    'end_date' => '2025-05-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-06-01',
                    'end_date' => '2025-06-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-07-01',
                    'end_date' => '2025-7-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-08-01',
                    'end_date' => '2025-08-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-09-01',
                    'end_date' => '2025-09-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-10-01',
                    'end_date' => '2025-10-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-11-01',
                    'end_date' => '2025-11-30',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2025-12-01',
                    'end_date' => '2025-12-31',
                    'calendar_id' => 1,
                ],
                [
                    'start_date' => '2021-01-01',
                    'end_date' => '2021-03-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2021-04-01',
                    'end_date' => '2021-06-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2021-07-01',
                    'end_date' => '2021-09-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2021-10-01',
                    'end_date' => '2021-12-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2022-01-01',
                    'end_date' => '2022-03-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2022-04-01',
                    'end_date' => '2022-06-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2022-07-01',
                    'end_date' => '2022-09-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2022-10-01',
                    'end_date' => '2022-12-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2023-01-01',
                    'end_date' => '2023-03-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2023-04-01',
                    'end_date' => '2023-06-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2023-07-01',
                    'end_date' => '2023-09-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2023-10-01',
                    'end_date' => '2023-12-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2024-01-01',
                    'end_date' => '2024-03-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2024-04-01',
                    'end_date' => '2024-06-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2024-07-01',
                    'end_date' => '2024-09-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2024-10-01',
                    'end_date' => '2024-12-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2025-01-01',
                    'end_date' => '2025-03-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2025-04-01',
                    'end_date' => '2025-06-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2025-07-01',
                    'end_date' => '2025-09-30',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2025-10-01',
                    'end_date' => '2025-12-31',
                    'calendar_id' => 2,
                ],
                [
                    'start_date' => '2021-01-01',
                    'end_date' => '2021-06-30',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2021-07-01',
                    'end_date' => '2021-12-31',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2022-01-01',
                    'end_date' => '2022-06-30',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2022-07-01',
                    'end_date' => '2022-12-31',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2023-01-01',
                    'end_date' => '2023-06-30',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2023-07-01',
                    'end_date' => '2023-12-31',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2024-01-01',
                    'end_date' => '2024-06-30',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2024-07-01',
                    'end_date' => '2024-12-31',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2025-01-01',
                    'end_date' => '2025-06-30',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2025-07-01',
                    'end_date' => '2025-12-31',
                    'calendar_id' => 3,
                ],
                [
                    'start_date' => '2021-01-01',
                    'end_date' => '2021-12-31',
                    'calendar_id' => 4,
                ],
                [
                    'start_date' => '2022-01-01',
                    'end_date' => '2022-12-31',
                    'calendar_id' => 4,
                ],
                [
                    'start_date' => '2023-01-01',
                    'end_date' => '2023-12-31',
                    'calendar_id' => 4,
                ],
                [
                    'start_date' => '2024-01-01',
                    'end_date' => '2024-12-31',
                    'calendar_id' => 4,
                ],
                [
                    'start_date' => '2025-01-01',
                    'end_date' => '2025-12-31',
                    'calendar_id' => 4,
                ]

            ]);

        $periods = DB::table('msr_periods')->whereIn('calendar_id', [2, 3, 4])->get();

        foreach ($periods as $period) {
            $childrenId = DB::table('msr_periods')->where([
                ['calendar_id', '=', 1],
                ['start_date', '>=', $period->start_date],
                ['end_date', '<=', $period->end_date],
            ])->pluck('id');
            foreach ($childrenId as $item) {
                DB::table('msr_period_children')->insert(
                    [
                        'parent_id' => $period->id,
                        'period_id' => $item,
                    ]
                );
            }
        }
    }
}